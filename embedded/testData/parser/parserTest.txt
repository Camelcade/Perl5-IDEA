Subtree: Embedded Perl (Embedded Perl)
Embedded Perl file
  PsiComment(Embedded Perl5: EMBED_TEMPLATE_BLOCK_HTML)('<html></html>')
  PsiComment(Embedded Perl5: EMBED_MARKER_OPEN)('<?')
  PsiPerlStatementImpl(Perl5: STATEMENT)
    PsiPerlPrintExprImpl(Perl5: PRINT_EXPR)
      PsiElement(Perl5: say)('say')
      PsiPerlStringSqImpl(Perl5: STRING_SQ)
        PsiElement(Perl5: QUOTE_SINGLE_OPEN)(''')
        PerlStringContentElementImpl(Perl5: STRING_CONTENT)('hi')
        PsiElement(Perl5: QUOTE_SINGLE_CLOSE)(''')
    PsiElement(Perl5: ;)(';')
  PsiComment(Embedded Perl5: EMBED_MARKER_CLOSE)('?>')
  PsiComment(Embedded Perl5: EMBED_TEMPLATE_BLOCK_HTML)('<html></html>')
  PsiComment(Embedded Perl5: EMBED_MARKER_OPEN)('<?')
  PsiPerlUseStatementImpl(USE_STATEMENT)
    PsiElement(Perl5: use)('use')
    PerlNamespaceElementImpl(Perl5: package::name)('strict')
    PsiElement(Perl5: ;)(';')
  PsiComment(Perl5: COMMENT_LINE)('# comment')
  PsiPerlUseStatementImpl(USE_STATEMENT)
    PsiElement(Perl5: use)('use')
    PerlNamespaceElementImpl(Perl5: package::name)('warnings')
    PsiPerlCommaSequenceExprImpl(Perl5: COMMA_SEQUENCE_EXPR)
      PsiPerlStringBareImpl(Perl5: STRING_BARE)
        PerlStringContentElementImpl(Perl5: STRING_CONTENT)('FATAL')
      PsiElement(Perl5: =>)('=>')
      PsiPerlStringSqImpl(Perl5: STRING_SQ)
        PsiElement(Perl5: QUOTE_SINGLE_OPEN)(''')
        PerlStringContentElementImpl(Perl5: STRING_CONTENT)('all')
        PsiElement(Perl5: QUOTE_SINGLE_CLOSE)(''')
    PsiElement(Perl5: ;)(';')
  PsiComment(Embedded Perl5: EMBED_MARKER_CLOSE)('?>')
  PsiComment(Embedded Perl5: EMBED_MARKER_OPEN)('<?')
  PsiPerlStatementImpl(Perl5: STATEMENT)
    PsiPerlPrintExprImpl(Perl5: PRINT_EXPR)
      PsiElement(Perl5: say)('say')
      PsiPerlStringSqImpl(Perl5: STRING_SQ)
        PsiElement(Perl5: QUOTE_SINGLE_OPEN)(''')
        PerlStringContentElementImpl(Perl5: STRING_CONTENT)('hi')
        PsiElement(Perl5: QUOTE_SINGLE_CLOSE)(''')
    PsiElement(Perl5: ;)(';')
  PsiComment(Perl5: COMMENT_LINE)('#comment ')
  PsiComment(Embedded Perl5: EMBED_MARKER_CLOSE)('?>')
  PsiComment(Embedded Perl5: EMBED_MARKER_OPEN)('<?')
  PsiPerlStatementImpl(Perl5: STATEMENT)
    PsiPerlPrintExprImpl(Perl5: PRINT_EXPR)
      PsiElement(Perl5: say)('say')
      PsiPerlStringSqImpl(Perl5: STRING_SQ)
        PsiElement(Perl5: QUOTE_SINGLE_OPEN)(''')
        PerlStringContentElementImpl(Perl5: STRING_CONTENT)('blah')
        PsiElement(Perl5: QUOTE_SINGLE_CLOSE)(''')
    PsiElement(Perl5: ;)(';')
  PsiComment(Embedded Perl5: EMBED_MARKER_CLOSE)('?>')
  PsiComment(Embedded Perl5: EMBED_TEMPLATE_BLOCK_HTML)('<html>')
  PsiComment(Embedded Perl5: EMBED_MARKER_OPEN)('<?')
  PsiPerlStatementImpl(Perl5: STATEMENT)
    PsiPerlPrintExprImpl(Perl5: PRINT_EXPR)
      PsiElement(Perl5: say)('say')
      PsiPerlStringSqImpl(Perl5: STRING_SQ)
        PsiElement(Perl5: QUOTE_SINGLE_OPEN)(''')
        PerlStringContentElementImpl(Perl5: STRING_CONTENT)('hi')
        PsiElement(Perl5: QUOTE_SINGLE_CLOSE)(''')
    PsiElement(Perl5: ;)(';')
  PsiComment(Embedded Perl5: EMBED_MARKER_CLOSE)('?>')
  PsiComment(Embedded Perl5: EMBED_MARKER_OPEN)('<?')
  PsiPerlForeachCompoundImpl(Perl5: FOREACH_COMPOUND)
    PsiElement(Perl5: foreach)('foreach')
    PsiPerlConditionExprImpl(Perl5: CONDITION_EXPR)
      PsiElement(Perl5: ()('(')
      PsiPerlArrayVariableImpl(Perl5: ARRAY_VARIABLE)
        PsiElement(Perl5: $@)('@')
        PerlVariableNameElementImpl(Perl5: ARRAY_NAME)('ARGV')
      PsiElement(Perl5: ))(')')
    PsiPerlBlockImpl(Perl5: BLOCK)
      PsiElement(Perl5: {)('{')
      PsiComment(Embedded Perl5: EMBED_MARKER_CLOSE)('?>')
      PsiComment(Embedded Perl5: EMBED_TEMPLATE_BLOCK_HTML)('<div>')
      PsiComment(Embedded Perl5: EMBED_MARKER_OPEN)('<?')
      PsiPerlStatementImpl(Perl5: STATEMENT)
        PsiPerlPrintExprImpl(Perl5: PRINT_EXPR)
          PsiElement(Perl5: print)('print')
          PsiPerlScalarVariableImpl(Perl5: SCALAR_VARIABLE)
            PsiElement(Perl5: $$)('$')
            PerlVariableNameElementImpl(Perl5: SCALAR_NAME)('_')
        PsiElement(Perl5: ;)(';')
      PsiComment(Embedded Perl5: EMBED_MARKER_CLOSE)('?>')
      PsiComment(Embedded Perl5: EMBED_TEMPLATE_BLOCK_HTML)('</div>')
      PsiComment(Embedded Perl5: EMBED_MARKER_OPEN)('<?')
      PsiElement(Perl5: })('}')
  PsiComment(Embedded Perl5: EMBED_MARKER_CLOSE)('?>')
  PsiComment(Embedded Perl5: EMBED_TEMPLATE_BLOCK_HTML)('</html>')
--------------------------------------------------------------------------------
Subtree: HTML (HTML)
HtmlFile:parserTest.thtml
  HTML_DOCUMENT
    XML_PROLOG
      <empty list>
    HTML_TAG
      PsiElement(XML_START_TAG_START)('<')
      PsiElement(XML_NAME)('html')
      PsiElement(XML_TAG_END)('>')
      PsiElement(XML_END_TAG_START)('</')
      PsiElement(XML_NAME)('html')
      PsiElement(XML_TAG_END)('>')
    HTML_TAG
      PsiElement(Embedded Perl5: EMBED_OUTER_ELEMENT_TYPE)('<?\nsay 'hi';\n?>\n\n\n')
      PsiElement(XML_START_TAG_START)('<')
      PsiElement(XML_NAME)('html')
      PsiElement(XML_TAG_END)('>')
      PsiElement(XML_END_TAG_START)('</')
      PsiElement(XML_NAME)('html')
      PsiElement(XML_TAG_END)('>')
    HTML_TAG
      PsiElement(Embedded Perl5: EMBED_OUTER_ELEMENT_TYPE)('\n\n\n<?\nuse strict; # comment\nuse warnings FATAL => 'all';\n\n?><? say 'hi'; #comment ?>\n\n<?\n\nsay 'blah';\n\n?>\n\n')
      PsiElement(XML_START_TAG_START)('<')
      PsiElement(XML_NAME)('html')
      PsiElement(XML_TAG_END)('>')
      HTML_TAG
        PsiElement(Embedded Perl5: EMBED_OUTER_ELEMENT_TYPE)('\n<? say 'hi'; ?>\n\n<? foreach(@ARGV) { ?>\n\n    ')
        PsiElement(XML_START_TAG_START)('<')
        PsiElement(XML_NAME)('div')
        PsiElement(XML_TAG_END)('>')
        PsiElement(Embedded Perl5: EMBED_OUTER_ELEMENT_TYPE)('\n    <? print $_; ?>\n\n    ')
        PsiElement(XML_END_TAG_START)('</')
        PsiElement(XML_NAME)('div')
        PsiElement(XML_TAG_END)('>')
      PsiElement(Embedded Perl5: EMBED_OUTER_ELEMENT_TYPE)('\n\n    <? } ?>\n\n')
      PsiElement(XML_END_TAG_START)('</')
      PsiElement(XML_NAME)('html')
      PsiElement(XML_TAG_END)('>')
--------------------------------------------------------------------------------
Subtree: Perl5 POD (Perl5 POD)
POD file
  PsiElement(Perl5 POD: POD_OUTER)('<html></html><?\nsay 'hi';\n?>\n\n\n<html></html>\n\n\n<?\nuse strict; # comment\nuse warnings FATAL => 'all';\n\n?><? say 'hi'; #comment ?>\n\n<?\n\nsay 'blah';\n\n?>\n\n<html>\n<? say 'hi'; ?>\n\n<? foreach(@ARGV) { ?>\n\n    <div>\n    <? print $_; ?>\n\n    </div>\n\n    <? } ?>\n\n</html>')
--------------------------------------------------------------------------------
