Subtree: HTML (HTML)
HtmlFile:sub.tt
  PsiElement(HTML_DOCUMENT)
    PsiElement(XML_PROLOG)
      <empty list>
    HtmlTag:html
      XmlToken:XML_START_TAG_START('<')
      XmlToken:XML_NAME('html')
      XmlToken:XML_TAG_END('>')
      XmlText
      HtmlTag:head
        XmlToken:XML_START_TAG_START('<')
        XmlToken:XML_NAME('head')
        XmlToken:XML_TAG_END('>')
        XmlText
          XmlToken:XML_DATA_CHARACTERS('http://template-toolkit.org/docs/manual/Variables.html')
        XmlToken:XML_END_TAG_START('</')
        XmlToken:XML_NAME('head')
        XmlToken:XML_TAG_END('>')
      XmlText
      HtmlTag:body
        XmlToken:XML_START_TAG_START('<')
        XmlToken:XML_NAME('body')
        XmlToken:XML_TAG_END('>')
        XmlText
          PsiElement(TT2: TT2_OUTER)('[% foo = 10 %]\n[% mycode(foo, 20) %]')
          XmlToken:XML_DATA_CHARACTERS('#')
          XmlToken:XML_DATA_CHARACTERS('received')
          XmlToken:XML_DATA_CHARACTERS('10,')
          XmlToken:XML_DATA_CHARACTERS('20')
          PsiElement(TT2: TT2_OUTER)('[% myjoin(10, 20, 30) %]\n[% myjoin(10, 20, 30, joint = ' - ') %]\n[% myjoin(joint => ' * ', 10, 20, 30) %]\n[% r = 'Romeo' %]\n[% r(100, 99, s, t, v) %]')
          XmlToken:XML_DATA_CHARACTERS('#')
          XmlToken:XML_DATA_CHARACTERS('outputs')
          XmlToken:XML_DATA_CHARACTERS('"Romeo"')
        XmlToken:XML_END_TAG_START('</')
        XmlToken:XML_NAME('body')
        XmlToken:XML_TAG_END('>')
      XmlText
      XmlToken:XML_END_TAG_START('</')
      XmlToken:XML_NAME('html')
      XmlToken:XML_TAG_END('>')
--------------------------------------------------------------------------------
Subtree: Template Toolkit 2 (Template Toolkit 2)
Template Toolkit File
  PsiComment(TT2: TT2_HTML)('<html>\n<head>http://template-toolkit.org/docs/manual/Variables.html</head>\n<body>\n')
  PsiComment(TT2: [%)('[%')
  PsiAssignExprImpl(TT2: ASSIGN_EXPR)
    PsiIdentifierExprImpl(TT2: IDENTIFIER_EXPR)
      PsiElement(TT2: TT2_IDENTIFIER)('foo')
    PsiElement(TT2: =)('=')
    PsiTermExprImpl(TT2: TERM_EXPR)
      PsiElement(TT2: TT2_NUMBER_SIMPLE)('10')
  PsiComment(TT2: %])('%]')
  PsiComment(TT2: [%)('[%')
  PsiCallExprImpl(TT2: CALL_EXPR)
    PsiElement(TT2: TT2_IDENTIFIER)('mycode')
    PsiCallArgumentsImpl(TT2: CALL_ARGUMENTS)
      PsiElement(TT2: ()('(')
      PsiIdentifierExprImpl(TT2: IDENTIFIER_EXPR)
        PsiElement(TT2: TT2_IDENTIFIER)('foo')
      PsiElement(TT2: ,)(',')
      PsiTermExprImpl(TT2: TERM_EXPR)
        PsiElement(TT2: TT2_NUMBER_SIMPLE)('20')
      PsiElement(TT2: ))(')')
  PsiComment(TT2: %])('%]')
  PsiComment(TT2: TT2_HTML)('       # received 10, 20\n')
  PsiComment(TT2: [%)('[%')
  PsiCallExprImpl(TT2: CALL_EXPR)
    PsiElement(TT2: TT2_IDENTIFIER)('myjoin')
    PsiCallArgumentsImpl(TT2: CALL_ARGUMENTS)
      PsiElement(TT2: ()('(')
      PsiTermExprImpl(TT2: TERM_EXPR)
        PsiElement(TT2: TT2_NUMBER_SIMPLE)('10')
      PsiElement(TT2: ,)(',')
      PsiTermExprImpl(TT2: TERM_EXPR)
        PsiElement(TT2: TT2_NUMBER_SIMPLE)('20')
      PsiElement(TT2: ,)(',')
      PsiTermExprImpl(TT2: TERM_EXPR)
        PsiElement(TT2: TT2_NUMBER_SIMPLE)('30')
      PsiElement(TT2: ))(')')
  PsiComment(TT2: %])('%]')
  PsiComment(TT2: [%)('[%')
  PsiCallExprImpl(TT2: CALL_EXPR)
    PsiElement(TT2: TT2_IDENTIFIER)('myjoin')
    PsiCallArgumentsImpl(TT2: CALL_ARGUMENTS)
      PsiElement(TT2: ()('(')
      PsiTermExprImpl(TT2: TERM_EXPR)
        PsiElement(TT2: TT2_NUMBER_SIMPLE)('10')
      PsiElement(TT2: ,)(',')
      PsiTermExprImpl(TT2: TERM_EXPR)
        PsiElement(TT2: TT2_NUMBER_SIMPLE)('20')
      PsiElement(TT2: ,)(',')
      PsiTermExprImpl(TT2: TERM_EXPR)
        PsiElement(TT2: TT2_NUMBER_SIMPLE)('30')
      PsiElement(TT2: ,)(',')
      PsiPairExprImpl(TT2: PAIR_EXPR)
        PsiSqStringExprImpl(TT2: SQ_STRING_EXPR)
          PsiElement(TT2: STRING_CONTENT)('joint')
        PsiElement(TT2: =)('=')
        PsiSqStringExprImpl(TT2: SQ_STRING_EXPR)
          PsiElement(TT2: SQ_OPEN)(''')
          PsiElement(TT2: STRING_CONTENT)(' ')
          PsiElement(TT2: STRING_CONTENT)('-')
          PsiElement(TT2: STRING_CONTENT)(' ')
          PsiElement(TT2: SQ_CLOSE)(''')
      PsiElement(TT2: ))(')')
  PsiComment(TT2: %])('%]')
  PsiComment(TT2: [%)('[%')
  PsiCallExprImpl(TT2: CALL_EXPR)
    PsiElement(TT2: TT2_IDENTIFIER)('myjoin')
    PsiCallArgumentsImpl(TT2: CALL_ARGUMENTS)
      PsiElement(TT2: ()('(')
      PsiPairExprImpl(TT2: PAIR_EXPR)
        PsiSqStringExprImpl(TT2: SQ_STRING_EXPR)
          PsiElement(TT2: STRING_CONTENT)('joint')
        PsiElement(TT2: =)('=>')
        PsiSqStringExprImpl(TT2: SQ_STRING_EXPR)
          PsiElement(TT2: SQ_OPEN)(''')
          PsiElement(TT2: STRING_CONTENT)(' ')
          PsiElement(TT2: STRING_CONTENT)('*')
          PsiElement(TT2: STRING_CONTENT)(' ')
          PsiElement(TT2: SQ_CLOSE)(''')
      PsiElement(TT2: ,)(',')
      PsiTermExprImpl(TT2: TERM_EXPR)
        PsiElement(TT2: TT2_NUMBER_SIMPLE)('10')
      PsiElement(TT2: ,)(',')
      PsiTermExprImpl(TT2: TERM_EXPR)
        PsiElement(TT2: TT2_NUMBER_SIMPLE)('20')
      PsiElement(TT2: ,)(',')
      PsiTermExprImpl(TT2: TERM_EXPR)
        PsiElement(TT2: TT2_NUMBER_SIMPLE)('30')
      PsiElement(TT2: ))(')')
  PsiComment(TT2: %])('%]')
  PsiComment(TT2: [%)('[%')
  PsiAssignExprImpl(TT2: ASSIGN_EXPR)
    PsiIdentifierExprImpl(TT2: IDENTIFIER_EXPR)
      PsiElement(TT2: TT2_IDENTIFIER)('r')
    PsiElement(TT2: =)('=')
    PsiSqStringExprImpl(TT2: SQ_STRING_EXPR)
      PsiElement(TT2: SQ_OPEN)(''')
      PsiElement(TT2: STRING_CONTENT)('Romeo')
      PsiElement(TT2: SQ_CLOSE)(''')
  PsiComment(TT2: %])('%]')
  PsiComment(TT2: [%)('[%')
  PsiCallExprImpl(TT2: CALL_EXPR)
    PsiElement(TT2: TT2_IDENTIFIER)('r')
    PsiCallArgumentsImpl(TT2: CALL_ARGUMENTS)
      PsiElement(TT2: ()('(')
      PsiTermExprImpl(TT2: TERM_EXPR)
        PsiElement(TT2: TT2_NUMBER_SIMPLE)('100')
      PsiElement(TT2: ,)(',')
      PsiTermExprImpl(TT2: TERM_EXPR)
        PsiElement(TT2: TT2_NUMBER_SIMPLE)('99')
      PsiElement(TT2: ,)(',')
      PsiIdentifierExprImpl(TT2: IDENTIFIER_EXPR)
        PsiElement(TT2: TT2_IDENTIFIER)('s')
      PsiElement(TT2: ,)(',')
      PsiIdentifierExprImpl(TT2: IDENTIFIER_EXPR)
        PsiElement(TT2: TT2_IDENTIFIER)('t')
      PsiElement(TT2: ,)(',')
      PsiIdentifierExprImpl(TT2: IDENTIFIER_EXPR)
        PsiElement(TT2: TT2_IDENTIFIER)('v')
      PsiElement(TT2: ))(')')
  PsiComment(TT2: %])('%]')
  PsiComment(TT2: TT2_HTML)('       # outputs "Romeo"\n\n</body>\n</html>')
--------------------------------------------------------------------------------
